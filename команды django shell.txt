from news.models import *
u1 = User.objects.create(username='Max')
u2 = User.objects.create(username='Dan')
a1 = Author.objects.create(user = u1)
a2 = Author.objects.create(user = u2)
cat1 = Category.objects.create(name = 'Новости')
cat2 = Category.objects.create(name = 'Экономика')
cat3 = Category.objects.create(name = 'Спорт')
cat4 = Category.objects.create(name = 'Автомобили')
p1 = Post.objects.create(author = a1, news_art='NW')
p2 = Post.objects.create(author = a1, news_art='AR')
p3 = Post.objects.create(author = a2, news_art='AR')
comm1 = Comment.objects.create(post = p1, user=u1)
comm2 = Comment.objects.create(post = p1, user=u2)
comm3 = Comment.objects.create(post = p3, user=u1)
comm4 = Comment.objects.create(post = p2, user=u2)
comm5 = Comment.objects.create(post = p3, user=u1)
comm6 = Comment.objects.create(post = p3, user=u2)
PostCategory.objects.create(post = p1, category = cat1)
PostCategory.objects.create(post = p1, category = cat2)
PostCategory.objects.create(post = p2, category = cat1)
PostCategory.objects.create(post = p2, category = cat3)
PostCategory.objects.create(post = p3, category = cat1)
PostCategory.objects.create(post = p3, category = cat4)
p1.like()
p1.like()
p2.like()
p3.like()
p3.like()
p3.like()
comm1.like()
comm2.dislike()
comm2.dislike()
comm3.like()
comm3.like()
comm3.like()
comm4.like()
a1.update_rating()
a2.update_rating()
authors = Author.objects.all().order_by('-rating')
authors.values('user__username', 'rating')[0]
posts = Post.objects.all().order_by('-rating')
posts.values('author__user__date_joined', 'rating', 'title')[0]
posts.preview()
comments = Comment.objects.filter(post = posts[0])
comments.values('date_in', 'user__username', 'rating', 'text')

